"use strict";(()=>{var e={};e.id=764,e.ids=[764],e.modules={8860:e=>{e.exports=require("jsdom")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},9801:e=>{e.exports=require("os")},5315:e=>{e.exports=require("path")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},8026:e=>{e.exports=require("worker_threads")},1568:e=>{e.exports=require("zlib")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},2477:e=>{e.exports=require("node:stream/web")},3545:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>q,patchFetch:()=>g,requestAsyncStorage:()=>f,routeModule:()=>x,serverHooks:()=>h,staticGenerationAsyncStorage:()=>w});var a={};r.r(a),r.d(a,{POST:()=>m});var i=r(9303),n=r(8716),s=r(670),o=r(7070),u=r(4214);async function p(e){let t=(await r.e(238).then(r.t.bind(r,1238,23))).default,a=await e.arrayBuffer(),i=Buffer.from(a);return(await t(i)).text??""}async function c(e){let t=(await r.e(699).then(r.t.bind(r,7699,19))).default,a=await e.arrayBuffer(),i=Buffer.from(a);return(await t.extractRawText({buffer:i})).value??""}async function l(e){let[{JSDOM:t},{Readability:a}]=await Promise.all([Promise.resolve().then(r.t.bind(r,8860,23)),r.e(156).then(r.t.bind(r,8156,23))]),i=await fetch(e),n=await i.text(),s=new a(new t(n,{url:e}).window.document).parse();return s?.textContent??s?.content??n}async function d(e){let t=new u.Pp({apiKey:process.env.OPENAI_API_KEY}),r=await t.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"Summarize the content concisely as bullet points, then a 3-line abstract."},{role:"user",content:e.slice(0,16e3)}],temperature:.3});return r.choices[0]?.message?.content??""}async function m(e){let t=await e.formData(),r=t.get("file"),a=String(t.get("url")??"");if(!(r instanceof File)&&!a)return new o.NextResponse("Provide a file or a URL",{status:400});let i="";if(r instanceof File?i=r.name.endsWith(".pdf")?await p(r):await c(r):a&&(i=await l(a)),!i.trim())return new o.NextResponse("No textual content extracted",{status:400});let n=await d(i);return o.NextResponse.json({summary:n})}let x=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/summarize/route",pathname:"/api/summarize",filename:"route",bundlePath:"app/api/summarize/route"},resolvedPagePath:"C:\\Users\\Vigneswar\\Downloads\\New folder (2)\\ai-playground\\src\\app\\api\\summarize\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:f,staticGenerationAsyncStorage:w,serverHooks:h}=x,q="/api/summarize/route";function g(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:w})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972,214],()=>r(3545));module.exports=a})();